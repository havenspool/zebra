<include file="./header" />
<script type="text/javascript">
$(function() {
	new Highcharts.Chart({
        chart: {
            renderTo: 'chart_pie',  //饼状图关联html元素id值
			//defaultSeriesType: 'pie', //默认图表类型为饼状图
			plotBackgroundColor: 'white',//背景颜色  
			//plotBackgroundColor: '#ffc',  //设置图表区背景色
            plotShadow: true   //设置阴影
        },
        title: {
            text: '',
            x: -20 //center
        },
        subtitle: {
            text: '',
            x: -20
        },
        xAxis: {
            categories: [
			<?php  
					foreach ($dungeons as $dungeon) {
    				echo "'".$dungeon['name']."',"; 
			}?>
                         ]
        },
        yAxis: {
            title: {
                text: '英雄数(个)'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        tooltip: {
            valueSuffix: '个'
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        },
        plotOptions: {
            line: {
                dataLabels: {
                    enabled: true
                },
                enableMouseTracking: true
            }
        },
        series: [{
            name: '英雄数',
            data: [<?php  
            		foreach ($dungeons as $dungeon) {
        			echo $dungeon['count'].",";
        }?>]
        }]
    });
});
</script>  
					<div class="row-fluid">
						<h3 class="header smaller lighter blue">{$title}</h3>						

						<div id="chart_pie"></div>
						
						<div class="table-header"></div>

						<table id="table_report"
							class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th class="center">关卡ID</th>
									<th class="center">关卡名称</th>
									<th class="center">进入英雄数</th>
								</tr>
							</thead>
							<tbody>
								<?php  
								foreach ($dungeons as $dungeon) {
										echo "<tr><td class='center'>";
										echo $dungeon['dungeonid'];
										echo "</td><td class='center'>";
										echo $dungeon['name'];
										echo "</td><td class='center'>";
										echo $dungeon['count'];
										echo "</td></tr>";										
								}
							?>
							</tbody>
						</table>
					</div>
					
<script type="text/javascript">   
var ex1 = new tableSort('table_report',1,2,999,'up','down','hov');   
</script> 
<include file="./footer" />